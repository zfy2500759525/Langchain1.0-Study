# ✅ 模块 02: Prompt Templates 创建完成！

## 📁 文件结构

```
phase1_fundamentals/02_prompt_templates/
├── main.py                      # ✅ 主教程代码（9个示例）
├── README.md                    # ✅ 详细学习文档
└── examples/                    # ✅ 示例模板库
    ├── template_library.py      # ✅ 可复用模板库（15个模板）
    └── README.md                # ✅ 使用说明
```

---

## 📚 学习内容总结

### 核心概念

1. **为什么需要提示词模板**
   - ❌ 字符串拼接的问题
   - ✅ 模板的优势（可复用、可维护、类型安全）

2. **PromptTemplate**
   - 简单文本模板
   - 3种创建方法
   - format() 和 invoke() 的区别

3. **ChatPromptTemplate**
   - 聊天消息模板
   - 支持 system/user/assistant 角色
   - 适合对话场景

4. **高级特性**
   - 部分变量（partial）
   - 模板组合
   - 可复用模板库

5. **LCEL 链式调用**
   - 使用 `|` 运算符
   - 模板 + 模型的组合

---

## 🎯 9个示例详解

| 示例 | 名称 | 学习重点 |
|------|------|----------|
| 1 | 为什么需要模板 | 对比字符串拼接 vs 模板 |
| 2 | PromptTemplate 基础 | 3种创建方法 |
| 3 | ChatPromptTemplate | 聊天消息模板 |
| 4 | 多轮对话模板 | 包含对话历史 |
| 5 | MessagePromptTemplate | 高级用法 |
| 6 | 部分变量 | 预填充固定变量 |
| 7 | 模板组合 | 组合多个模板片段 |
| 8 | 可复用模板库 | 实战最佳实践 |
| 9 | LCEL 链式调用 | 预览后续内容 |

---

## 🔧 模板库包含的15个模板

### 翻译类
- ✅ TRANSLATOR - 专业翻译

### 编程类
- ✅ CODE_GENERATOR - 代码生成
- ✅ CODE_REVIEWER - 代码审查
- ✅ CODE_EXPLAINER - 代码解释
- ✅ DEBUG_HELPER - 调试助手

### 内容创作类
- ✅ SUMMARIZER - 内容摘要
- ✅ ARTICLE_WRITER - 文章写作
- ✅ EMAIL_WRITER - 邮件撰写

### 教育类
- ✅ TUTOR - 教学辅导
- ✅ QUIZ_GENERATOR - 测验生成

### 商务类
- ✅ PRODUCT_DESCRIPTION - 产品描述
- ✅ MARKET_ANALYSIS - 市场分析

### 客户服务类
- ✅ CUSTOMER_SUPPORT - 客户服务
- ✅ FAQ_RESPONDER - FAQ回答

### 数据分析类
- ✅ DATA_ANALYZER - 数据分析
- ✅ REPORT_GENERATOR - 报告生成

---

## 🚀 快速开始

### 运行主教程

```bash
cd phase1_fundamentals/02_prompt_templates
python main.py
```

### 运行模板库示例

```bash
python examples/template_library.py
```

### 在项目中使用模板库

```python
from examples.template_library import TemplateLibrary

# 使用翻译模板
messages = TemplateLibrary.TRANSLATOR.format_messages(
    source_lang="英语",
    target_lang="中文",
    text="Hello World"
)

response = model.invoke(messages)
```

---

## 💡 关键知识点

### PromptTemplate vs ChatPromptTemplate

| 特性 | PromptTemplate | ChatPromptTemplate |
|------|----------------|-------------------|
| 输出格式 | 字符串 | 消息列表 |
| 角色支持 | ❌ 无 | ✅ system/user/assistant |
| 对话历史 | ❌ 不支持 | ✅ 支持 |
| 适用场景 | 简单提示 | **聊天、对话（推荐）** |

### 模板创建的三种方法

**方法 1：from_template（推荐）**
```python
template = PromptTemplate.from_template("你好 {name}")
```

**方法 2：显式指定变量**
```python
template = PromptTemplate(
    input_variables=["name"],
    template="你好 {name}"
)
```

**方法 3：部分变量**
```python
template = PromptTemplate.from_template("你是{role}，请{task}")
partial = template.partial(role="助手")
```

### LCEL 链式调用

```python
# 传统方式
template = ChatPromptTemplate.from_messages([...])
messages = template.format_messages(...)
response = model.invoke(messages)

# LCEL 方式（更简洁）
chain = template | model
response = chain.invoke({"variable": "value"})
```

---

## 📖 最佳实践

1. **优先使用 ChatPromptTemplate**
   - 更灵活
   - 支持多角色
   - 便于维护对话历史

2. **创建模板库**
   - 将常用模板集中管理
   - 提高代码复用性
   - 便于团队协作

3. **使用部分变量**
   - 预填充固定不变的值
   - 创建模板变体
   - 减少重复代码

4. **文档化模板**
   - 说明变量含义
   - 提供使用示例
   - 便于维护

---

## 🎓 学习进度

- ✅ **01_hello_langchain** - LLM 基础调用
- ✅ **02_prompt_templates** - 提示词模板（当前）
- ⏭️ **03_messages** - 消息类型（下一步）
- ⏭️ **04_custom_tools** - 自定义工具
- ⏭️ **05_simple_agent** - 简单 Agent

---

## 📝 下一步

继续学习：

```bash
# 查看下一个模块
cd ../03_messages
```

或者我可以帮你创建下一个模块！

---

**创建时间：** 2025-11-05
**模块状态：** ✅ 完成
**测试状态：** ✅ 通过（导入测试成功）
